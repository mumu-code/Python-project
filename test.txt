Find centralized, trusted content and collaborate around the technologies you use most. Teams Q&A for work Connect and share knowledge within a single location that is structured and easy to search. I'm loading a .csv file as a string on R with readLines(). One of the columns contains Tweets with undesired line breaks. I need to delete the line breaks. In Notepad++, Searching for: \r\n and Replacing with %%% works, and the whole file turns into one single line. However, when doing this in R, neither str_replace_all() nor str_remove_all() will detect \\r\\n, and the output file is identical to the input. This is my code. I've tried the following RegEx: "\n"; "\r\n"; "\\n"; "\\r\\n";"\\r" to no avail. I've also tried: Input file looks like this: Desired output (and what I get with Notepad++): I made a new answer because my previous one did not answer the correct problem, but I left it because it may useful for others. If your file is a properly formated csv file then you should be able to read it in as csv even with the CRLF inside the data. However from your sample input file it looks like the csv is not well formed (it is missing a " after the first comma on line 2. EDIT: What is happening in your case is that readLines is reading \r\n as a new line (as it should) and the following text is put in the next entry of the vector. So \r\n will not appear in tx. EDIT: How are you getting your input files? If you can fix that method so produces proper csv files with quotations, then R will be happy with it. In my case I needed to make sure there's one line per tweet, i.e. I needed to delete all CRLF except those before a line that starts with the first column i.e. date. 
I solved this by using a place holder %%% instead of LFs, and then by adding a LF before each cell of the date column using gsub() and a Regular Expression: This results in the following: etc. You have to use four backslashes to match a slash in R's regex. This is because in regex, backslash is used for control characters and some wildcards and in R, backslash is also used for control characters. So if you put "\\r" in R, the regex will see it as \r and then try to match CR. Try: I have it working for me with gsub("\n", "", tx, fixed=T), which is R base. you could adapt it to remove both or run it twice. Thanks for contributing an answer to Stack Overflow! But avoid … To learn more, see our tips on writing great answers. Required, but never shown Required, but never shown By clicking “Post Your Answer”, you agree to our terms of service, privacy policy and cookie policy To subscribe to this RSS feed, copy and paste this URL into your RSS reader. Site design / logo © 2022 Stack Exchange Inc; user contributions licensed under CC BY-SA.                    rev 2022.12.16.43123 Your privacy By clicking “Accept all cookies”, you agree Stack Exchange can store cookies on your device and disclose information in accordance with our Cookie Policy.